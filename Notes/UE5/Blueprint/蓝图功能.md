# 部分蓝图功能讲解

### **1. Sequence（顺序执行）**

- **功能**：将单一执行流拆分为多个**按顺序执行**的分支（默认支持 3 个输出，可扩展）。
- **用法**：
  - 当需要分步骤执行逻辑时（如先初始化变量，再播放动画，最后触发音效）。
  - 常用于事件触发后按步骤执行多个操作。
- **示例**：
  ```plaintext
  [事件触发] → [Sequence] → [执行步骤1] → [执行步骤2] → [执行步骤3]
  ```

---

### **2. Do Once（单次执行）**
- **功能**：确保某段逻辑**仅执行一次**，除非手动重置（Reset）。
- **参数**：
  
  - **Start Closed**：初始状态是否关闭（默认 `false`，即首次可执行）。
- **用法**：
  - 首次触发后锁定，避免重复执行（如首次进入场景时显示教程）。
  - 通过 **Reset** 引脚重新激活。
- **示例**：
  ```plaintext
  [事件触发] → [Do Once] → [执行逻辑]
  [重置信号] → [Do Once.Reset] → 恢复可执行状态
  ```

---

### **3. Flip Flop（双态切换）**

- **功能**：每次触发时在 **A** 和 **B** 两个输出之间**交替切换**。
- **用法**：
  - 实现开关行为（如门的打开/关闭、灯光切换）。
  - 无需外部变量即可管理双状态逻辑。

- **示例**：

  ```plaintext
  第1次触发 → [Flip Flop.A]
  第2次触发 → [Flip Flop.B]
  第3次触发 → [Flip Flop.A]
  ```

---

### **4. Get Viewport Size**

- **功能**：获取当前视口（Viewport）的分辨率（宽度和高度）。
- **用法**：
  - 输出的 `Viewport Size` 为二维向量（`X=宽度`, `Y=高度`）。
  - 将输出值除以 2 可得到视口中心点的**像素坐标**（例如 `(1920, 1080)` 的视口中心为 `(960, 540)`）。
  - 需将像素坐标转换为**标准化坐标**（`0.0~1.0` 范围），以便与 `Deproject Screen to World` 节点配合使用。

---

### **5. Deproject Screen to World**

- **功能**：将屏幕空间坐标转换为世界空间中的射线参数（起点和方向向量）。
- **用法**：
  - **输入**：屏幕坐标（需标准化为 `0.0~1.0` 范围，或使用像素坐标配合 `Get Viewport Size` 转换）。
  - **输出 `World Position`**：摄像机在世界空间中的位置（射线起点）。
  - **输出 `World Direction`**：从摄像机位置出发，指向屏幕坐标对应视线方向的**归一化向量**（长度为 1）。
  - 典型应用：结合射线检测（`Line Trace`）实现点击交互、子弹弹道计算等。
